version: '3'
services:

  #Notification Db
  publicsale-notification-db:
    image: "mongo:4.2.3"
    container_name: 'publicsale-notification-db'
    restart: always 
    ports:
      - 27017:27017
    environment: 
          MONGO_INITDB_ROOT_USERNAME: mongoadmin
          MONGO_INITDB_ROOT_PASSWORD: _Test123

  #RabbitMq
  rabbitmq:
    image: masstransit/rabbitmq:3
    container_name: 'rabbitmq'
    restart: always 
    environment:
      - RABBITMQ_DEFAULT_USER=user
      - RABBITMQ_DEFAULT_PASS=password
    ports:
      - 5672:5672
      - 15672:15672
    volumes:
      - rabbitmq-data:/var/lib/rabbitmq

  redis:  
    image: redis
    ports:
      - 6379:6379

volumes:
  rabbitmq-data:
  publicsale-notification-db-data:
